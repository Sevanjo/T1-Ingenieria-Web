document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".producto button"),t=document.querySelector("#carrito"),r=document.querySelector("#carrito .contenido"),a=JSON.parse(localStorage.getItem("carrito"))||[];function o(){r||((r=document.createElement("div")).classList.add("contenido"),t.appendChild(r)),r.innerHTML="",0===a.length?r.innerHTML="<p>Tu carrito est\xe1 vac\xedo</p>":(a.forEach((e,t)=>{let a=document.createElement("div");a.classList.add("producto-carrito"),a.innerHTML=`
    <p>${e.nombre} - ${e.precio}</p>
    <button class="eliminar" data-index="${t}">X</button>
`,r.appendChild(a)}),document.querySelectorAll(".eliminar").forEach(e=>{e.addEventListener("click",e=>{let t=e.target.getAttribute("data-index");a.splice(t,1),localStorage.setItem("carrito",JSON.stringify(a)),o()})}))}e.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.closest(".producto"),r=t.querySelector("h3").textContent,i=t.querySelector(".precio").textContent;a.push({nombre:r,precio:i}),e.target.classList.add("agregado"),setTimeout(()=>e.target.classList.remove("agregado"),300),localStorage.setItem("carrito",JSON.stringify(a)),o()})}),o()});